<nav class="breadcrumbs breadcrumb__list">
  <a href="{{ routes.root_url }}" title="{{ 'collections.breadcrumbs.back_to_home' | t }}" class="breadcrumb__item">
    {{- 'collections.breadcrumbs.home' | t -}}
  </a>

  {%- if template contains 'collection' -%}
    <a class="breadcrumb__item" href="{{ routes.collections_url }}">
       {{- 'collections.breadcrumbs.collections' | t -}}
    </a>
    {%- if collection.handle -%}
      <span class="breadcrumb__item breadcrumb__item--current">
        {%- if collection.handle == 'all' -%}
          {{- 'collections.breadcrumbs.default_collection' | t -}}
        {%- else -%}
          {{- collection.title -}}
        {%- endif -%}
      </span>
    {%- endif -%}
  {%- endif -%}

  {%- if template contains 'product' -%}
    {%- assign crumb_collection = collection -%}
    {%- if crumb_collection == blank -%}
        {%- assign crumb_collection = product.collections | first -%}
    {%- endif -%}
    {%- if crumb_collection -%}
      <a class="breadcrumb__item" href="{{ crumb_collection.url }}">
        {{ crumb_collection.title }}
      </a>
    {%- endif -%}
    {%- if product.handle -%}
      <span class="breadcrumb__item breadcrumb__item--current">
        {{ product.title | strip_html | escape }}
      </span>
    {%- endif -%}
  {%- endif -%}

</nav>